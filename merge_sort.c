#include <stdio.h>
#include <stdlib.h>
#define and &&

int* copia_vetor(int lista[], int ini, int fim){
	int tam = fim - ini + 1;
	int *vetor_saida = calloc(sizeof(int), tam);
	for(int i = 0; i < tam; ++i){
		vetor_saida[i] = lista[i + ini];
	}
	return vetor_saida;
}

void merge_sort(int lista[], int n){
	if (n == 1) return ;
	
	int meio = n / 2;
	int *l_a = copia_vetor(lista, 0, meio - 1);
	int *l_b = copia_vetor(lista, meio, n - 1);
	
	int tam_a = n / 2;
	int tam_b = n - tam_a;
	
	//for(int i = 0; i < tam_a; ++i) printf("%i ", l_a[i]); 
	//printf("\n");
	//for(int i = 0; i < tam_b; ++i) printf("%i ", l_b[i]); 
	//printf("\n");
	//printf("______________\n");
	
	
	merge_sort(l_a, tam_a);
	merge_sort(l_b, tam_b);
	
	int i = 0, j = 0, p = 0; 
	while (i < tam_a and j < tam_b){
		if (l_a[i] < l_b[j]){ 
			lista[p] = l_a[i];
			++i;
		} else {
			lista[p] = l_b[j];
			++j;
		}
		++p;
	}
	 
	for(; i < tam_a; ++i){ 
		lista[p++] = l_a[i];
	}
	for(; j < tam_b; ++j){ 
		lista[p++] = l_b[j];
	} 
}

int main(){
	int lista[] = {-887,849,411,390,-579,590,-542,-84,-361,-410,21,207,996,-848,516,446,164,413,997,84,151,-660,-327,306,699,658,517,49,623,-18,-165,783,353,99,-955,275,-878,470,-289,519,192,929,568,-7,-429,845,-690,201,-287,-340,-968,-503,860,200,43,392,-68,-960,-696,-766,-139,-876,-957,857,-143,860,-90,832,-826,98,-55,-258,140,-764,458,-897,-595,-246,830,-664,-785,-187,-73,723,190,-511,750,286,728,933,-18,192,-783,477,797,-768,-653,-268,410,464,543,-282,-760,-205,455,-755,264,999,-350,-95,687,-841,447,-514,-557,425,-862,-590,173,-940,-392,41,-661,364,329,505,-714,-121,961,-341,-389,-602,-601,-319,513,641,-517,-659,714,371,-941,414,-242,-816,821,459,-880,862,837,-17,739,-88,-165,-15,270,863,-58,-985,579,-372,148,258,47,338,277,-896,-798,-983,684,778,27,-260,319,461,782,-805,-214,-583,399,442,719,-39,206,-81,-695,970,-650,176,-162,985,297,462,152,-247,-649,-464,592,542,145,928,866,649,989,560,-926,286,596,373,-196,-658,-280,-806,905,954,-548,-763,-718,-379,-470,-752,589,-345,472,228,837,63,345,-826,374,-879,-110,166,-229,971,976,655,-324,-17,725,-993,-661,-528,849,-34,454,-462,-618,799,14,-799,-460,336,838,265,-482,-401,872,-410,958,425,467,-784,720,26,-506,408,193,-542,472,-504,360,216,-316,432,-821,898,-917,-6,-658,460,705,393,-341,-222,-511,-600,-151,137,817,841,-909,69,991,-834,-908,-88,525,-894,986,882,681,150,-734,-390,-623,773,-313,825,-357,428,-411,-114,-424,830,-860,-831,-561,933,485,-519,-993,-111,605,249,62,355,735,591,-784,885,567,370,-355,-739,-451,-995,327,-975,-506,-989,798,771,907,977,416,425,658,3,-830,-445,794,508,-482,535,796,-39,-173,219,379,-685,167,675,-323,299,-45,861,604,-138,275,-914,38,-925,995,744,-565,990,-916,592,96,-829,467,634,546,-439,849,-381,568,-864,-954,998,-895,-408,631,-200,-99,-446,430,-691,54,136,584,-715,-620,-840,-385,-408,-245,1,-595,511,53,-739,-392,-378,-493,-986,445,-81,253,345,-785,454,-167,-102,208,-717,-373,-728,-990,484,826,454,-966,-357,-734,-441,198,205,67,-119,-149,-454,244,430,-713,272,450,-405,-1000,614,564,422,937,-954,810,-325,882,33,-316,982,162,-721,-741,923,548,-309,-268,-929,207,-812,-507,31,-67,-743,986,-31,-402,200,838,-603,-879,-798,-914,-227,13,-614,-949,60,-770,194,-325,721,-602,-637,453,-182,-621,-307,898,53,312,-319,-563,-497,-542,124,326,-724,-989,-906,-613,-594,444,988,976,-915,614,104,-480,687,931,-397,-914,-627,-118,-551,-215,87,284,-430,716,-136,366,416,625,-135,-309,389,-790,106,-617,627,479,-933,304,867,-236,919,-890,-289,-643,-964,481,962,-970,-34,-136,-414,-755,-968,-212,-882,417,-719,876,358,519,-284,650,207,-105,-743,919,-690,-551,476,169,821,-988,-853,-591,-485,7,-201,814,-244,-68,-863,803,651,986,-571,292,-704,-495,118,-792,126,-786,715,-813,330,225,549,-660,264,92,855,653,112,-871,79,-148,-418,-207,145,681,-448,-530,-195,-679,-380,-22,880,307,38,958,-635,-287,-60,377,-331,-923,-41,968,1,-478,-545,-489,861,810,791,-77,-418,-718,958,478,-209,30,-831,-360,-421,-772,-150,-91,993,-250,600,923,131,-490,700,-352,493,-602,814,-52,829,126,-745,-182,620,599,-638,-510,-39,166,-574,-702,-228,490,-187,404,-668,665,-526,-13,-112,5,-853,560,277,-537,-107,-228,-385,279,621,969,518,923,-278,966,579,-249,-667,-58,-809,-420,-917,-399,231,-544,557,-876,-995,-586,-509,201,-223,275,-473,-23,-410,-549,194,-128,-642,826,-979,101,976,-235,-209,-626,-865,472,644,-611,-802,-519,25,905,-425,634,-946,-824,-982,-955,-300,89,173,-63,671,874,465,249,900,678,-589,-223,-96,120,683,784,-219,-188,266,400,-326,521,-585,-40,-935,979,-783,-28,-870,-862,989,134,755,-663,150,19,-236,261,635,780,-561,-348,574,339,-509,-894,880,-121,630,314,408,731,26,-652,-819,-191,725,-960,607,-876,589,538,-334,-899,732,852,-613,266,-298,912,-395,489,89,101,-869,-525,-630,815,-626,-894,118,305,-952,764,203,-90,-89,60,742,-694,625,-496,-239,185,-19,-253,198,-361,-360,-280,-634,677,-401,346,135,-931,679,-998,580,348,-965,-557,-723,259,-431,-326,621,-828,-98,987,953,-510,-937,-242,-687,85,705,346,-136,-433,401,-660,-157,494,915,-430,-152,250,-446,-959,129,293,-315,-778,-354,757,-215,-491,236,-37,-490,588,696,554,669,633,812,826,368,-339,-530,353,782,-500,18,502,627,-338,953,-837,-69,788,-755,-418,-465,-550,160,277,-206,359,-930,451,-424,-223,97,880,262,916,-995,-955,-736,-61,535,312,425,-413,-338,-791,779,-329,-516,-312,-66,-360,-2,556,-327,-815,97,462,930,-945,672,929,821,61,29,495,232,397,661,-819,53,-435,-423,-940,-575,342,231,-219,-193,633,757,-699,-402,520,-482,104,66,-59,458,824,424,663,159,868,487,368,151,-446};
	int s = sizeof(lista)/sizeof(int);
	printf("%i\n", s);
	for(int i = 0; i < s; ++i) printf("%i ", lista[i]); 
	printf("\n");
	merge_sort(lista, s);
	for(int i = 0; i < s; ++i) printf("%i ", lista[i]); 
	printf("\n");
	
}
